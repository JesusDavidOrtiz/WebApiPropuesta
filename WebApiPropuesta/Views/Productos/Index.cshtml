@using Microsoft.AspNetCore.Mvc.RazorPages
@using PagedList.Mvc;
@model IEnumerable<WebApiPropuesta.Models.Productos>

@{
    ViewData["Title"] = "Lista de Productos";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">

    @if(TempData["mensaje"] != null)
    {
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            @TempData["mensaje"]
            <button type="button" class="close" date-dismiss="alert" aria-label="Close">
                <span aria-hidden="true"> &times;</span>
            </button>
        </div>
    }
    <div class="row">
        <div class="col-ms-10">
            <h3> Productos  </h3>
        </div>
        <div class="col-ms-6">
            <a class="btn btn-success d-block" asp-action="Crear" asp-controller="Productos"> Agregar Productos  </a>
        </div>

    </div>

   <div class ="row">
 @if (Model.Count() > 0)

        {
             <table class="table table-bordered table-striped">
                  <thead>
                    <tr>
                         <td>@Html.DisplayNameFor(m => m.Codigo)</td>
                         <td>@Html.DisplayNameFor(m => m.Descripción)</td>
                         <td>@Html.DisplayNameFor(m => m.Estado)</td>
                         <td>@Html.DisplayNameFor(m => m.Fecha_fabricación)</td>
                         <td>@Html.DisplayNameFor(m => m.Fecha_validez)</td>
                         <td>@Html.DisplayNameFor(m => m.Cod_proveedor)</td>
                         <td>@Html.DisplayNameFor(m => m.Descripción_proveedor)</td>
                         <td>@Html.DisplayNameFor(m => m.TelefonoProveedor)</td>
                         <td>Acciones</td>
                    </tr>
                 </thead>
                 <tbody>
                    @foreach (var item in Model)
                   {
                       <tr>
                         <td>@item.Codigo</td>
                         <td>@item.Descripción</td>
                         <td>@item.Estado</td>
                         <td>@item.Fecha_fabricación</td>
                         <td>@item.Fecha_validez</td>
                         <td>@item.Cod_proveedor</td>
                         <td>@item.Descripción_proveedor</td>
                         <td>@item.TelefonoProveedor</td>    
                         <td>
                             <a asp-action="Modificar" asp-controller="Productos" asp-route-id="@item.Codigo" class="btn btn-warning" > Editar</a>
                             <a asp-controller="Productos"  asp-action="Delete" asp-route-id="@item.Codigo" class="btn btn-danger" > Eliminar</a>


                         </td>
                    </tr> 
                   }
                </tbody>
            </table>
            

        }
        else
        {
            <p>No existen</p>
        }


    </div>

</div>

